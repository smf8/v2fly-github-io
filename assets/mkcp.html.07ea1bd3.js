import{_ as i,r as l,o as n,c as r,a as t,b as h,d as e,e as a}from"./app.475aa88c.js";const o={},s=t("h1",{id:"mkcp-\u534F\u8BAE",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#mkcp-\u534F\u8BAE","aria-hidden":"true"},"#"),e(" mKCP \u534F\u8BAE")],-1),c=e("mKCP \u662F\u6D41\u5F0F\u4F20\u8F93\u534F\u8BAE\uFF0C\u7531 "),_={href:"https://github.com/skywind3000/kcp",target:"_blank",rel:"noopener noreferrer"},u=e("KCP \u534F\u8BAE"),p=e("\u4FEE\u6539\u800C\u6765\uFF0C\u53EF\u4EE5\u6309\u987A\u5E8F\u4F20\u8F93\u4EFB\u610F\u7684\u6570\u636E\u6D41\u3002"),b=a('<h2 id="\u7248\u672C" tabindex="-1"><a class="header-anchor" href="#\u7248\u672C" aria-hidden="true">#</a> \u7248\u672C</h2><p>mKCP \u6CA1\u6709\u7248\u672C\u53F7\uFF0C\u4E0D\u4FDD\u8BC1\u7248\u672C\u4E4B\u95F4\u517C\u5BB9\u6027\u3002</p><h2 id="\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#\u4F9D\u8D56" aria-hidden="true">#</a> \u4F9D\u8D56</h2><h3 id="\u5E95\u5C42\u534F\u8BAE" tabindex="-1"><a class="header-anchor" href="#\u5E95\u5C42\u534F\u8BAE" aria-hidden="true">#</a> \u5E95\u5C42\u534F\u8BAE</h3><p>mKCP \u662F\u4E00\u4E2A\u57FA\u4E8E UDP \u7684\u534F\u8BAE\uFF0C\u6240\u6709\u901A\u8BAF\u4F7F\u7528 UDP \u4F20\u8F93\u3002</p><h3 id="\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u51FD\u6570" aria-hidden="true">#</a> \u51FD\u6570</h3>',6),m=e("fnv: "),f={href:"https://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function",target:"_blank",rel:"noopener noreferrer"},C=e("FNV-1a"),x=e(" \u54C8\u5E0C\u51FD\u6570 "),k=t("ul",null,[t("li",null,"\u8F93\u5165\u53C2\u6570\u4E3A\u4EFB\u610F\u957F\u5EA6\u7684\u5B57\u7B26\u4E32\uFF1B"),t("li",null,"\u8F93\u5165\u51FA\u4E00\u4E2A 32 \u4F4D\u65E0\u7B26\u53F7\u6574\u6570\uFF1B")],-1),P=a('<h2 id="\u901A\u8BAF\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u901A\u8BAF\u8FC7\u7A0B" aria-hidden="true">#</a> \u901A\u8BAF\u8FC7\u7A0B</h2><ol><li>mKCP \u5C06\u6570\u636E\u6D41\u62C6\u6210\u82E5\u5E72\u4E2A\u6570\u636E\u5305\u8FDB\u884C\u53D1\u9001\u3002\u4E00\u4E2A\u6570\u636E\u6D41\u6709\u4E00\u4E2A\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4EE5\u533A\u5206\u4E0D\u540C\u7684\u6570\u636E\u6D41\u3002\u6570\u636E\u6D41\u4E2D\u7684\u6BCF\u4E00\u4E2A\u6570\u636E\u5305\u90FD\u643A\u5E26\u4E86\u540C\u6837\u7684\u6807\u8BC6\u3002</li><li>mKCP \u6CA1\u6709\u63E1\u624B\u8FC7\u7A0B\uFF0C\u5F53\u6536\u5230\u4E00\u4E2A\u6570\u636E\u5305\u65F6\uFF0C\u6839\u636E\u5176\u643A\u5E26\u7684\u6570\u636E\u6D41\u7684\u6807\u8BC6\u6765\u5224\u65AD\u662F\u5426\u4E3A\u65B0\u7684\u901A\u8BDD\uFF0C\u6216\u662F\u6B63\u5728\u8FDB\u884C\u4E2D\u7684\u901A\u8BDD\u3002</li><li>\u6BCF\u4E00\u4E2A\u6570\u636E\u5305\u4E2D\u5305\u542B\u82E5\u5E72\u4E2A\u7247\u6BB5\uFF08Segment\uFF09\uFF0C\u7247\u6BB5\u5206\u4E3A\u4E09\u7C7B\uFF1A\u6570\u636E\uFF08Data\uFF09\u3001\u786E\u8BA4\uFF08ACK\uFF09\u3001\u5FC3\u8DF3\uFF08Ping\uFF09\u3002\u6BCF\u4E2A\u7247\u6BB5\u9700\u8981\u5355\u72EC\u5904\u7406\u3002</li></ol><h2 id="\u6570\u636E\u683C\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u683C\u5F0F" aria-hidden="true">#</a> \u6570\u636E\u683C\u5F0F</h2><h3 id="\u6570\u636E\u5305" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5305" aria-hidden="true">#</a> \u6570\u636E\u5305</h3><table><thead><tr><th>4 \u5B57\u8282</th><th>2 \u5B57\u8282</th><th>L \u5B57\u8282</th></tr></thead><tbody><tr><td>\u8BA4\u8BC1\u4FE1\u606F A</td><td>\u6570\u636E\u957F\u5EA6 L</td><td>\u7247\u6BB5\u90E8\u5206</td></tr></tbody></table><p>\u5176\u4E2D\uFF1A</p><ul><li>\u8BA4\u8BC1\u4FE1\u606F A = fnv(\u7247\u6BB5\u90E8\u5206\uFF09\uFF0Cbig endian\uFF1B</li><li>\u7247\u6BB5\u90E8\u5206\u53EF\u80FD\u5305\u542B\u591A\u4E2A\u7247\u6BB5\uFF1B</li></ul><h3 id="\u6570\u636E\u7247\u6BB5" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u7247\u6BB5" aria-hidden="true">#</a> \u6570\u636E\u7247\u6BB5</h3><table><thead><tr><th>2 \u5B57\u8282</th><th>1 \u5B57\u8282</th><th>1 \u5B57\u8282</th><th>4 \u5B57\u8282</th><th>4 \u5B57\u8282</th><th>4 \u5B57\u8282</th><th>2 \u5B57\u8282</th><th>Len \u5B57\u8282</th></tr></thead><tbody><tr><td>\u6807\u8BC6 Conv</td><td>\u6307\u4EE4 Cmd</td><td>\u9009\u9879 Opt</td><td>\u65F6\u95F4\u6233 Ts</td><td>\u5E8F\u5217\u53F7 Sn</td><td>\u672A\u786E\u8BA4\u5E8F\u5217\u53F7 Una</td><td>\u957F\u5EA6 Len</td><td>\u6570\u636E</td></tr></tbody></table><p>\u5176\u4E2D\uFF1A</p><ul><li>\u6807\u8BC6 Conv: mKCP \u6570\u636E\u6D41\u7684\u6807\u8BC6</li><li>\u6307\u4EE4 Cmd: \u5E38\u91CF 0x01</li><li>\u9009\u9879 Opt: \u53EF\u9009\u7684\u503C\u6709\uFF1A <ul><li>0x00: \u7A7A\u9009\u9879</li><li>0x01: \u5BF9\u65B9\u5DF2\u53D1\u51FA\u6240\u6709\u6570\u636E</li></ul></li><li>\u65F6\u95F4\u6233 Ts: \u5F53\u524D\u7247\u6BB5\u4ECE\u8FDC\u7AEF\u53D1\u9001\u51FA\u6765\u65F6\u7684\u65F6\u95F4\uFF0Cbig endian</li><li>\u5E8F\u5217\u53F7 Sn: \u8BE5\u6570\u636E\u7247\u6BB5\u65F6\u6570\u636E\u6D41\u4E2D\u7684\u4F4D\u7F6E\uFF0C\u8D77\u59CB\u7247\u6BB5\u7684\u5E8F\u5217\u53F7\u4E3A 0\uFF0C\u4E4B\u540E\u6BCF\u4E2A\u65B0\u7247\u6BB5\u6309\u987A\u5E8F\u52A0 1</li><li>\u672A\u786E\u8BA4\u5E8F\u5217\u53F7 Una: \u8FDC\u7AEF\u4E3B\u673A\u6B63\u5728\u53D1\u9001\u7684\uFF0C\u4E14\u5C1A\u672A\u6536\u5230\u786E\u8BA4\u7684\u6700\u5C0F\u7684 Sn</li></ul><h3 id="\u786E\u8BA4\u7247\u6BB5" tabindex="-1"><a class="header-anchor" href="#\u786E\u8BA4\u7247\u6BB5" aria-hidden="true">#</a> \u786E\u8BA4\u7247\u6BB5</h3><table><thead><tr><th>2 \u5B57\u8282</th><th>1 \u5B57\u8282</th><th>1 \u5B57\u8282</th><th>4 \u5B57\u8282</th><th>4 \u5B57\u8282</th><th>4 \u5B57\u8282</th><th>2 \u5B57\u8282</th><th>Len * 4 \u5B57\u8282</th></tr></thead><tbody><tr><td>\u6807\u8BC6 Conv</td><td>\u6307\u4EE4 Cmd</td><td>\u9009\u9879 Opt</td><td>\u7A97\u53E3 Wnd</td><td>\u4E0B\u4E00\u63A5\u6536\u5E8F\u5217\u53F7 Sn</td><td>\u65F6\u95F4\u6233 Ts</td><td>\u957F\u5EA6 Len</td><td>\u5DF2\u6536\u5230\u7684\u5E8F\u5217\u53F7</td></tr></tbody></table><p>\u5176\u4E2D\uFF1A</p><ul><li>\u6807\u8BC6 Conv: mKCP \u6570\u636E\u6D41\u7684\u6807\u8BC6</li><li>\u6307\u4EE4 Cmd: \u5E38\u91CF 0x00</li><li>\u9009\u9879 Opt: \u540C\u4E0A</li><li>\u7A97\u53E3 Wnd: \u8FDC\u7AEF\u4E3B\u673A\u53EF\u4EE5\u63A5\u6536\u7684\u6700\u5927\u5E8F\u5217\u53F7</li><li>\u4E0B\u4E00\u63A5\u6536\u5E8F\u5217\u53F7 Sn: \u8FDC\u7AEF\u4E3B\u673A\u672A\u6536\u5230\u7684\u6570\u636E\u7247\u6BB5\u4E2D\u7684\u6700\u5C0F\u5E8F\u5217\u53F7</li><li>\u65F6\u95F4\u6233 Ts: \u8FDC\u7AEF\u4E3B\u673A\u6700\u65B0\u6536\u5230\u7684\u6570\u636E\u7247\u6BB5\u7684\u65F6\u95F4\u6233\uFF0C\u53EF\u7528\u4E8E\u8BA1\u7B97\u5EF6\u8FDF</li><li>\u5DF2\u6536\u5230\u7684\u5E8F\u5217\u53F7: \u6BCF\u4E2A 4 \u5B57\u8282\uFF0C\u8868\u793A\u6B64\u5E8F\u5217\u53F7\u7684\u6570\u636E\u5DF2\u7ECF\u786E\u8BA4\u6536\u5230</li></ul><p>\u6CE8\u91CA\uFF1A</p><ul><li>\u8FDC\u7A0B\u4E3B\u673A\u671F\u5F85\u6536\u5230\u5E8F\u5217\u53F7 [Sn, Wnd) \u8303\u56F4\u5185\u7684\u6570\u636E</li></ul><h3 id="\u5FC3\u8DF3\u7247\u6BB5" tabindex="-1"><a class="header-anchor" href="#\u5FC3\u8DF3\u7247\u6BB5" aria-hidden="true">#</a> \u5FC3\u8DF3\u7247\u6BB5</h3><table><thead><tr><th>2 \u5B57\u8282</th><th>1 \u5B57\u8282</th><th>1 \u5B57\u8282</th><th>4 \u5B57\u8282</th><th>4 \u5B57\u8282</th><th>4 \u5B57\u8282</th></tr></thead><tbody><tr><td>\u6807\u8BC6 Conv</td><td>\u6307\u4EE4 Cmd</td><td>\u9009\u9879 Opt</td><td>\u672A\u786E\u8BA4\u5E8F\u5217\u53F7 Una</td><td>\u4E0B\u4E00\u63A5\u6536\u5E8F\u5217\u53F7 Sn</td><td>\u5EF6\u8FDF Rto</td></tr></tbody></table><p>\u5176\u4E2D\uFF1A</p><ul><li>\u6807\u8BC6 Conv: mKCP \u6570\u636E\u6D41\u7684\u6807\u8BC6</li><li>\u6307\u4EE4 Cmd: \u53EF\u9009\u7684\u503C\u6709 <ul><li>0x02: \u8FDC\u7AEF\u4E3B\u673A\u5F3A\u884C\u7EC8\u6B62\u4F1A\u8BDD</li><li>0x03: \u6B63\u5E38\u5FC3\u8DF3</li></ul></li><li>\u9009\u9879 Opt: \u540C\u4E0A</li><li>\u672A\u786E\u8BA4\u5E8F\u5217\u53F7 Una: \u540C\u6570\u636E\u7247\u6BB5\u7684 Una</li><li>\u4E0B\u4E00\u63A5\u6536\u5E8F\u5217\u53F7 Sn: \u540C\u786E\u8BA4\u7247\u6BB5\u7684 Sn</li><li>\u5EF6\u8FDF Rto: \u8FDC\u7AEF\u4E3B\u673A\u81EA\u5DF1\u8BA1\u7B97\u51FA\u7684\u5EF6\u8FDF</li></ul>',21);function v(K,S){const d=l("ExternalLinkIcon");return n(),r("div",null,[s,t("p",null,[c,t("a",_,[u,h(d)]),p]),b,t("ul",null,[t("li",null,[m,t("a",f,[C,h(d)]),x,k])]),P])}const g=i(o,[["render",v],["__file","mkcp.html.vue"]]);export{g as default};
