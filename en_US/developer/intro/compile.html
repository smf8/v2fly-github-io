<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="apple-touch-icon" size="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" size="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" size="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><link rel="mask-icon" color="#5bbad5" href="/safari-pinned-tab.svg"><meta name="viewport" content="width=device-width,initial-scale=1.0"><meta name="apple-mobile-web-app-title" content="Project V"><meta name="application-name" content="Project V"><meta name="msapplication-TileColor" content="#da532c"><title>The first step: learn to compile | V2Fly.org</title><meta name="description" content="Project V is a collection of tools that can help you build your own basic communication network">
    <link rel="modulepreload" href="/assets/app.009ed29f.js"><link rel="modulepreload" href="/assets/compile.html.3467ac44.js"><link rel="modulepreload" href="/assets/compile.html.401c2e28.js"><link rel="prefetch" href="/assets/index.html.95bbb135.js"><link rel="prefetch" href="/assets/tools.html.0fb4eb42.js"><link rel="prefetch" href="/assets/api.html.6056bbf3.js"><link rel="prefetch" href="/assets/browserforwarder.html.1a96e7ff.js"><link rel="prefetch" href="/assets/dns.html.59e70a35.js"><link rel="prefetch" href="/assets/env.html.b7e70cf6.js"><link rel="prefetch" href="/assets/fakedns.html.3862a780.js"><link rel="prefetch" href="/assets/inbounds.html.b6a06163.js"><link rel="prefetch" href="/assets/multiple_config.html.55ef5ed8.js"><link rel="prefetch" href="/assets/observatory.html.7cafaac5.js"><link rel="prefetch" href="/assets/outbounds.html.e6d3a5b0.js"><link rel="prefetch" href="/assets/overview.html.89fa5f81.js"><link rel="prefetch" href="/assets/policy.html.9ed30abe.js"><link rel="prefetch" href="/assets/reverse.html.7c3ef35c.js"><link rel="prefetch" href="/assets/routing.html.c71dd0b9.js"><link rel="prefetch" href="/assets/stats.html.7ddff95f.js"><link rel="prefetch" href="/assets/transport.html.aa5f760b.js"><link rel="prefetch" href="/assets/index.html.9abefafc.js"><link rel="prefetch" href="/assets/command.html.3586007f.js"><link rel="prefetch" href="/assets/faq.html.59a8a037.js"><link rel="prefetch" href="/assets/help.html.1a629939.js"><link rel="prefetch" href="/assets/install.html.1eb9a5a9.js"><link rel="prefetch" href="/assets/start.html.261a5fe5.js"><link rel="prefetch" href="/assets/workflow.html.e5e8f4b3.js"><link rel="prefetch" href="/assets/blackhole.html.59d479aa.js"><link rel="prefetch" href="/assets/dns.html.7a843964.js"><link rel="prefetch" href="/assets/dokodemo.html.81df66b3.js"><link rel="prefetch" href="/assets/freedom.html.882b320e.js"><link rel="prefetch" href="/assets/http.html.72e9bed8.js"><link rel="prefetch" href="/assets/loopback.html.1cba2549.js"><link rel="prefetch" href="/assets/shadowsocks.html.d144658b.js"><link rel="prefetch" href="/assets/socks.html.2ac587ae.js"><link rel="prefetch" href="/assets/trojan.html.59d9dfd6.js"><link rel="prefetch" href="/assets/vless.html.909a9131.js"><link rel="prefetch" href="/assets/vmess.html.9f4eae95.js"><link rel="prefetch" href="/assets/domainsocket.html.7c05bdc9.js"><link rel="prefetch" href="/assets/grpc.html.071b1521.js"><link rel="prefetch" href="/assets/h2.html.3071271c.js"><link rel="prefetch" href="/assets/mkcp.html.5028eb04.js"><link rel="prefetch" href="/assets/quic.html.1b3c647f.js"><link rel="prefetch" href="/assets/tcp.html.d42d8b55.js"><link rel="prefetch" href="/assets/websocket.html.c201d2ba.js"><link rel="prefetch" href="/assets/compile.html.479113fc.js"><link rel="prefetch" href="/assets/design.html.b84ae773.js"><link rel="prefetch" href="/assets/guide.html.72f2e66d.js"><link rel="prefetch" href="/assets/mkcp.html.377f3f02.js"><link rel="prefetch" href="/assets/muxcool.html.023ae905.js"><link rel="prefetch" href="/assets/vmess.html.94a3c096.js"><link rel="prefetch" href="/assets/tools.html.c3090e53.js"><link rel="prefetch" href="/assets/api.html.3830e788.js"><link rel="prefetch" href="/assets/dns.html.e0d24602.js"><link rel="prefetch" href="/assets/fakedns.html.18ffe163.js"><link rel="prefetch" href="/assets/outbounds.html.3a870bb0.js"><link rel="prefetch" href="/assets/overview.html.b05f7acb.js"><link rel="prefetch" href="/assets/transport.html.5e902a64.js"><link rel="prefetch" href="/assets/faq.html.ee9b9f52.js"><link rel="prefetch" href="/assets/install.html.654f2a7c.js"><link rel="prefetch" href="/assets/start.html.b24b27f4.js"><link rel="prefetch" href="/assets/workflow.html.97642bcf.js"><link rel="prefetch" href="/assets/dns.html.dcb6cd57.js"><link rel="prefetch" href="/assets/geo.html.21ce3109.js"><link rel="prefetch" href="/assets/inbound.html.d090a21c.js"><link rel="prefetch" href="/assets/outbound.html.b6702aa6.js"><link rel="prefetch" href="/assets/overview.html.a4992b9d.js"><link rel="prefetch" href="/assets/proxy.html.2e092447.js"><link rel="prefetch" href="/assets/router.html.380a6902.js"><link rel="prefetch" href="/assets/service.html.79de1c19.js"><link rel="prefetch" href="/assets/stream.html.cd63ed51.js"><link rel="prefetch" href="/assets/blackhole.html.9953469f.js"><link rel="prefetch" href="/assets/dns.html.0340b057.js"><link rel="prefetch" href="/assets/dokodemo.html.29230b78.js"><link rel="prefetch" href="/assets/freedom.html.a8c5961b.js"><link rel="prefetch" href="/assets/http.html.b62fc745.js"><link rel="prefetch" href="/assets/design.html.ba2595e7.js"><link rel="prefetch" href="/assets/guide.html.a33a8a5b.js"><link rel="prefetch" href="/assets/mkcp.html.dcd43793.js"><link rel="prefetch" href="/assets/vmess.html.c7608945.js"><link rel="prefetch" href="/assets/dns.html.9ae57811.js"><link rel="prefetch" href="/assets/geo.html.b7d62d3b.js"><link rel="prefetch" href="/assets/inbound.html.2a3dcfde.js"><link rel="prefetch" href="/assets/outbound.html.857da111.js"><link rel="prefetch" href="/assets/overview.html.90d45ea2.js"><link rel="prefetch" href="/assets/proxy.html.88343bf9.js"><link rel="prefetch" href="/assets/router.html.2f7a207c.js"><link rel="prefetch" href="/assets/service.html.3e07567e.js"><link rel="prefetch" href="/assets/stream.html.445d237d.js"><link rel="prefetch" href="/assets/blackhole.html.ffcc3b3a.js"><link rel="prefetch" href="/assets/dns.html.9004fe9f.js"><link rel="prefetch" href="/assets/dokodemo.html.87386334.js"><link rel="prefetch" href="/assets/freedom.html.0c734317.js"><link rel="prefetch" href="/assets/http.html.22784859.js"><link rel="prefetch" href="/assets/loopback.html.d75bc410.js"><link rel="prefetch" href="/assets/shadowsocks.html.05acf332.js"><link rel="prefetch" href="/assets/socks.html.d6fc1dfb.js"><link rel="prefetch" href="/assets/trojan.html.bda586b0.js"><link rel="prefetch" href="/assets/vless.html.f0464b45.js"><link rel="prefetch" href="/assets/vlite.html.2481c7cd.js"><link rel="prefetch" href="/assets/vmess.html.27fc14fa.js"><link rel="prefetch" href="/assets/backgroundObservatory.html.613768fd.js"><link rel="prefetch" href="/assets/browser.html.d9c9db4a.js"><link rel="prefetch" href="/assets/burstObservatory.html.718ae2c8.js"><link rel="prefetch" href="/assets/policy.html.f4dbefe0.js"><link rel="prefetch" href="/assets/stats.html.e262e053.js"><link rel="prefetch" href="/assets/grpc.html.256c24b3.js"><link rel="prefetch" href="/assets/kcp.html.a3bc1ce7.js"><link rel="prefetch" href="/assets/tcp.html.5f7e7ba6.js"><link rel="prefetch" href="/assets/websocket.html.246efee3.js"><link rel="prefetch" href="/assets/blackhole.html.724a2cad.js"><link rel="prefetch" href="/assets/dns.html.a882b1a1.js"><link rel="prefetch" href="/assets/dokodemo.html.8a58328a.js"><link rel="prefetch" href="/assets/freedom.html.f8566ed2.js"><link rel="prefetch" href="/assets/http.html.7477d3d1.js"><link rel="prefetch" href="/assets/loopback.html.ff337a4f.js"><link rel="prefetch" href="/assets/shadowsocks.html.66d40aa1.js"><link rel="prefetch" href="/assets/socks.html.fec3c4d9.js"><link rel="prefetch" href="/assets/trojan.html.bf9fe0e3.js"><link rel="prefetch" href="/assets/vless.html.c7b5fb5a.js"><link rel="prefetch" href="/assets/vlite.html.1cfb83d6.js"><link rel="prefetch" href="/assets/vmess.html.3279b3bc.js"><link rel="prefetch" href="/assets/backgroundObservatory.html.050b62fb.js"><link rel="prefetch" href="/assets/browser.html.22e54f34.js"><link rel="prefetch" href="/assets/burstObservatory.html.217bab9f.js"><link rel="prefetch" href="/assets/policy.html.04da7ead.js"><link rel="prefetch" href="/assets/stats.html.2f39b4a2.js"><link rel="prefetch" href="/assets/kcp.html.4fe83651.js"><link rel="prefetch" href="/assets/quic.html.096d7801.js"><link rel="prefetch" href="/assets/tcp.html.25ae95ad.js"><link rel="prefetch" href="/assets/websocket.html.edf87fb4.js"><link rel="prefetch" href="/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/assets/index.html.19bd04a8.js"><link rel="prefetch" href="/assets/tools.html.c1fa8c5f.js"><link rel="prefetch" href="/assets/api.html.fa1646f0.js"><link rel="prefetch" href="/assets/browserforwarder.html.49efe9d7.js"><link rel="prefetch" href="/assets/dns.html.085fe595.js"><link rel="prefetch" href="/assets/env.html.8761fe04.js"><link rel="prefetch" href="/assets/fakedns.html.5b3fe029.js"><link rel="prefetch" href="/assets/inbounds.html.7ba44a12.js"><link rel="prefetch" href="/assets/multiple_config.html.7143b055.js"><link rel="prefetch" href="/assets/observatory.html.bb17f107.js"><link rel="prefetch" href="/assets/outbounds.html.0e07bc18.js"><link rel="prefetch" href="/assets/overview.html.cfd8b991.js"><link rel="prefetch" href="/assets/policy.html.d6cdfdc7.js"><link rel="prefetch" href="/assets/reverse.html.903f90b3.js"><link rel="prefetch" href="/assets/routing.html.bbc8d164.js"><link rel="prefetch" href="/assets/stats.html.40bc9089.js"><link rel="prefetch" href="/assets/transport.html.27c578a4.js"><link rel="prefetch" href="/assets/index.html.ca32966f.js"><link rel="prefetch" href="/assets/command.html.1533b19b.js"><link rel="prefetch" href="/assets/faq.html.750eebee.js"><link rel="prefetch" href="/assets/help.html.7b4dd887.js"><link rel="prefetch" href="/assets/install.html.0b249eb8.js"><link rel="prefetch" href="/assets/start.html.e30d0560.js"><link rel="prefetch" href="/assets/workflow.html.0afb8ed9.js"><link rel="prefetch" href="/assets/blackhole.html.7d2e733d.js"><link rel="prefetch" href="/assets/dns.html.1232724d.js"><link rel="prefetch" href="/assets/dokodemo.html.6d1cacee.js"><link rel="prefetch" href="/assets/freedom.html.241b289d.js"><link rel="prefetch" href="/assets/http.html.e1e7494e.js"><link rel="prefetch" href="/assets/loopback.html.5296aa07.js"><link rel="prefetch" href="/assets/shadowsocks.html.e3d44488.js"><link rel="prefetch" href="/assets/socks.html.a1fdbe87.js"><link rel="prefetch" href="/assets/trojan.html.2f8ddd36.js"><link rel="prefetch" href="/assets/vless.html.dbe7be14.js"><link rel="prefetch" href="/assets/vmess.html.67336da7.js"><link rel="prefetch" href="/assets/domainsocket.html.2909ad79.js"><link rel="prefetch" href="/assets/grpc.html.43fa82df.js"><link rel="prefetch" href="/assets/h2.html.246f11ee.js"><link rel="prefetch" href="/assets/mkcp.html.c6b9f11d.js"><link rel="prefetch" href="/assets/quic.html.22526526.js"><link rel="prefetch" href="/assets/tcp.html.2c797ed8.js"><link rel="prefetch" href="/assets/websocket.html.e07ed8d8.js"><link rel="prefetch" href="/assets/compile.html.b260af5e.js"><link rel="prefetch" href="/assets/design.html.80caa561.js"><link rel="prefetch" href="/assets/guide.html.5ade0334.js"><link rel="prefetch" href="/assets/mkcp.html.dc8df70b.js"><link rel="prefetch" href="/assets/muxcool.html.f2982235.js"><link rel="prefetch" href="/assets/vmess.html.9127009b.js"><link rel="prefetch" href="/assets/tools.html.c0601bc1.js"><link rel="prefetch" href="/assets/api.html.c3e825a8.js"><link rel="prefetch" href="/assets/dns.html.a398d8f5.js"><link rel="prefetch" href="/assets/fakedns.html.61843ac3.js"><link rel="prefetch" href="/assets/outbounds.html.03de9c55.js"><link rel="prefetch" href="/assets/overview.html.df606fd3.js"><link rel="prefetch" href="/assets/transport.html.bcce5de6.js"><link rel="prefetch" href="/assets/faq.html.959a48c4.js"><link rel="prefetch" href="/assets/install.html.679a6cb0.js"><link rel="prefetch" href="/assets/start.html.938aa704.js"><link rel="prefetch" href="/assets/workflow.html.0de70cff.js"><link rel="prefetch" href="/assets/dns.html.a52d501c.js"><link rel="prefetch" href="/assets/geo.html.28111a0d.js"><link rel="prefetch" href="/assets/inbound.html.c928b2a1.js"><link rel="prefetch" href="/assets/outbound.html.cb65e7c6.js"><link rel="prefetch" href="/assets/overview.html.1337eff4.js"><link rel="prefetch" href="/assets/proxy.html.d6bd946c.js"><link rel="prefetch" href="/assets/router.html.b07f9934.js"><link rel="prefetch" href="/assets/service.html.40c4e13a.js"><link rel="prefetch" href="/assets/stream.html.0a85f32f.js"><link rel="prefetch" href="/assets/blackhole.html.ae449c33.js"><link rel="prefetch" href="/assets/dns.html.16457cf2.js"><link rel="prefetch" href="/assets/dokodemo.html.aa59b432.js"><link rel="prefetch" href="/assets/freedom.html.ca9e7a7b.js"><link rel="prefetch" href="/assets/http.html.b4836394.js"><link rel="prefetch" href="/assets/design.html.2f20151f.js"><link rel="prefetch" href="/assets/guide.html.5071b85a.js"><link rel="prefetch" href="/assets/mkcp.html.b4cffb4f.js"><link rel="prefetch" href="/assets/vmess.html.604f9367.js"><link rel="prefetch" href="/assets/dns.html.dd759b13.js"><link rel="prefetch" href="/assets/geo.html.5997e61c.js"><link rel="prefetch" href="/assets/inbound.html.19b738b4.js"><link rel="prefetch" href="/assets/outbound.html.b06d4d02.js"><link rel="prefetch" href="/assets/overview.html.d21aa169.js"><link rel="prefetch" href="/assets/proxy.html.a9c00a56.js"><link rel="prefetch" href="/assets/router.html.da7457c8.js"><link rel="prefetch" href="/assets/service.html.0f6b7777.js"><link rel="prefetch" href="/assets/stream.html.4dac9390.js"><link rel="prefetch" href="/assets/blackhole.html.bfac0cda.js"><link rel="prefetch" href="/assets/dns.html.c5e9c499.js"><link rel="prefetch" href="/assets/dokodemo.html.53f88afd.js"><link rel="prefetch" href="/assets/freedom.html.f1caa2de.js"><link rel="prefetch" href="/assets/http.html.6408cf05.js"><link rel="prefetch" href="/assets/loopback.html.ac0a2385.js"><link rel="prefetch" href="/assets/shadowsocks.html.ef30188c.js"><link rel="prefetch" href="/assets/socks.html.05a3048a.js"><link rel="prefetch" href="/assets/trojan.html.d94ce902.js"><link rel="prefetch" href="/assets/vless.html.477d7527.js"><link rel="prefetch" href="/assets/vlite.html.fd157145.js"><link rel="prefetch" href="/assets/vmess.html.df89ab3e.js"><link rel="prefetch" href="/assets/backgroundObservatory.html.0c97c5a1.js"><link rel="prefetch" href="/assets/browser.html.d3f5a08c.js"><link rel="prefetch" href="/assets/burstObservatory.html.2b3b1a1d.js"><link rel="prefetch" href="/assets/policy.html.01c8957d.js"><link rel="prefetch" href="/assets/stats.html.8c60548b.js"><link rel="prefetch" href="/assets/grpc.html.cdbcfcc6.js"><link rel="prefetch" href="/assets/kcp.html.a22bfd24.js"><link rel="prefetch" href="/assets/tcp.html.7ecb8d0a.js"><link rel="prefetch" href="/assets/websocket.html.b7937fec.js"><link rel="prefetch" href="/assets/blackhole.html.7ff0ae51.js"><link rel="prefetch" href="/assets/dns.html.3411ba5e.js"><link rel="prefetch" href="/assets/dokodemo.html.6a379086.js"><link rel="prefetch" href="/assets/freedom.html.02c66a46.js"><link rel="prefetch" href="/assets/http.html.f40064e9.js"><link rel="prefetch" href="/assets/loopback.html.9b9b2189.js"><link rel="prefetch" href="/assets/shadowsocks.html.92587066.js"><link rel="prefetch" href="/assets/socks.html.b5bb1f2a.js"><link rel="prefetch" href="/assets/trojan.html.14258a6c.js"><link rel="prefetch" href="/assets/vless.html.0b78cfb6.js"><link rel="prefetch" href="/assets/vlite.html.a7f86454.js"><link rel="prefetch" href="/assets/vmess.html.9200ca05.js"><link rel="prefetch" href="/assets/backgroundObservatory.html.3caf2a42.js"><link rel="prefetch" href="/assets/browser.html.841aadcb.js"><link rel="prefetch" href="/assets/burstObservatory.html.bc24027b.js"><link rel="prefetch" href="/assets/policy.html.052c8f8c.js"><link rel="prefetch" href="/assets/stats.html.dd5c90c1.js"><link rel="prefetch" href="/assets/kcp.html.88e6f984.js"><link rel="prefetch" href="/assets/quic.html.c3287317.js"><link rel="prefetch" href="/assets/tcp.html.9d2f4751.js"><link rel="prefetch" href="/assets/websocket.html.8f207087.js"><link rel="prefetch" href="/assets/404.html.2eb17aa7.js"><link rel="prefetch" href="/assets/Tool.d8ec5430.js"><link rel="prefetch" href="/assets/Uuid.a7a386b6.js">
    <link rel="stylesheet" href="/assets/style.ad5697ba.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/en_US/" class=""><img class="logo" src="/v2ray.png" alt="V2Fly.org"><span class="site-name can-hide">V2Fly.org</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/en_US/guide/start" class="" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en_US/v5/config/overview" class="" aria-label="Config Reference"><!--[--><!--]--> Config Reference <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en_US/awesome/tools" class="" aria-label="Tools"><!--[--><!--]--> Tools <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en_US/developer/intro/compile" class="router-link-active" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://guide.v2fly.org/" rel="noopener noreferrer" target="_blank" aria-label="New concise guide"><!--[--><!--]--> New concise guide <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/developer/intro/compile.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/en_US/developer/intro/compile.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/v2fly" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/en_US/guide/start" class="" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en_US/v5/config/overview" class="" aria-label="Config Reference"><!--[--><!--]--> Config Reference <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en_US/awesome/tools" class="" aria-label="Tools"><!--[--><!--]--> Tools <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en_US/developer/intro/compile" class="router-link-active" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://guide.v2fly.org/" rel="noopener noreferrer" target="_blank" aria-label="New concise guide"><!--[--><!--]--> New concise guide <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/developer/intro/compile.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/en_US/developer/intro/compile.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/v2fly" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Developer Guide <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/en_US/developer/intro/compile.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="The first step: learn to compile"><!--[--><!--]--> The first step: learn to compile <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/en_US/developer/intro/compile.html#pre-work" class="router-link-active router-link-exact-active sidebar-item" aria-label="Pre-work"><!--[--><!--]--> Pre-work <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en_US/developer/intro/compile.html#multiple-build-methods" class="router-link-active router-link-exact-active sidebar-item" aria-label="Multiple build methods"><!--[--><!--]--> Multiple build methods <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/en_US/developer/intro/compile.html#pull-v2ray-source-code-and-dependencies" class="router-link-active router-link-exact-active sidebar-item" aria-label="Pull V2Ray source code and dependencies"><!--[--><!--]--> Pull V2Ray source code and dependencies <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en_US/developer/intro/compile.html#manual-build" class="router-link-active router-link-exact-active sidebar-item" aria-label="Manual build"><!--[--><!--]--> Manual build <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en_US/developer/intro/compile.html#script-build" class="router-link-active router-link-exact-active sidebar-item" aria-label="Script build"><!--[--><!--]--> Script build <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/en_US/developer/intro/design.html" class="sidebar-item" aria-label="Step 2: Understand the architecture"><!--[--><!--]--> Step 2: Understand the architecture <!--[--><!--]--></a><!----></li><li><a href="/en_US/developer/intro/guide.html" class="sidebar-item" aria-label="Step 3: Start development"><!--[--><!--]--> Step 3: Start development <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Protocol Details <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="the-first-step-learn-to-compile" tabindex="-1"><a class="header-anchor" href="#the-first-step-learn-to-compile" aria-hidden="true">#</a> The first step: learn to compile</h1><h2 id="pre-work" tabindex="-1"><a class="header-anchor" href="#pre-work" aria-hidden="true">#</a> Pre-work</h2><p>V2Ray uses <a href="https://golang.org/" target="_blank" rel="noopener noreferrer">Golang<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> as the main programming language, and the team release process uses <a href="https://github.com/features/actions" target="_blank" rel="noopener noreferrer">GitHub Actions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> as the build tool. It is recommended to use Linux or macOS for development. A small amount of scripts may not run properly on Windows.</p><ul><li>Install Golang: <a href="https://golang.org/doc/install" target="_blank" rel="noopener noreferrer">golang.org/doc/install<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> (If you can’t access it, you can choose <a href="https://golang.google.cn/doc/install" target="_blank" rel="noopener noreferrer">Domestic Mirror<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>)</li></ul><h2 id="multiple-build-methods" tabindex="-1"><a class="header-anchor" href="#multiple-build-methods" aria-hidden="true">#</a> Multiple build methods</h2><h3 id="pull-v2ray-source-code-and-dependencies" tabindex="-1"><a class="header-anchor" href="#pull-v2ray-source-code-and-dependencies" aria-hidden="true">#</a> Pull V2Ray source code and dependencies</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/v2fly/v2ray-core.git
<span class="token builtin class-name">cd</span> v2ray-core <span class="token operator">&amp;&amp;</span> go mod download
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Note: In the network environment where Google cannot be accessed normally, and dependencies cannot be pulled normally, you need to set <code>GOPROXY</code> first:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>go <span class="token function">env</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">GOPROXY</span><span class="token operator">=</span>https://goproxy.io,direct
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="manual-build" tabindex="-1"><a class="header-anchor" href="#manual-build" aria-hidden="true">#</a> Manual build</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>The commands in this section need to be run in the root directory of the V2Ray project.</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> go build <span class="token parameter variable">-o</span> <span class="token environment constant">$HOME</span>/v2ray <span class="token parameter variable">-trimpath</span> <span class="token parameter variable">-ldflags</span> <span class="token string">&quot;-s -w -buildid=&quot;</span> ./main
<span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> go build <span class="token parameter variable">-o</span> <span class="token environment constant">$HOME</span>/v2ctl <span class="token parameter variable">-trimpath</span> <span class="token parameter variable">-ldflags</span> <span class="token string">&quot;-s -w -buildid=&quot;</span> <span class="token parameter variable">-tags</span> confonly ./infra/control/main
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Running the above command will generate the newly-built <code>v2ray</code> and <code>v2ctl</code> executable files in the current user&#39;s <code>$HOME</code> directory, which can be used normally.</p><p>Building executable files for other CPU architectures and other systems (Windows/macOS) belongs to the cross-compilation process of Golang, which mainly controls the two environment variables <code>GOOS</code> / <code>GOARCH</code>. For details, please refer to Golang related documents.</p><p>The following demonstrates how to build executable files of <code>v2ray.exe</code>, <code>wv2ray.exe</code>, and <code>v2ctl.exe</code> that can run on Windows 64-bit systems (non-Windows systems do not need to compile <code>wv2ray.exe</code>):</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>windows <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64 go build <span class="token parameter variable">-o</span> <span class="token environment constant">$HOME</span>/v2ray.exe <span class="token parameter variable">-trimpath</span> <span class="token parameter variable">-ldflags</span> <span class="token string">&quot;-s -w -buildid=&quot;</span> ./main
<span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>windows <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64 go build <span class="token parameter variable">-o</span> <span class="token environment constant">$HOME</span>/wv2ray.exe <span class="token parameter variable">-trimpath</span> <span class="token parameter variable">-ldflags</span> <span class="token string">&quot;-s -w -H windowsgui -buildid=&quot;</span> ./main
<span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>windows <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64 go build <span class="token parameter variable">-o</span> <span class="token environment constant">$HOME</span>/v2ctl.exe <span class="token parameter variable">-trimpath</span> <span class="token parameter variable">-ldflags</span> <span class="token string">&quot;-s -w -buildid=&quot;</span> <span class="token parameter variable">-tags</span> confonly ./infra/control/main
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Execute <code>go tool dist list</code> to view all supported systems and architectures. Some architectures also need to control other environment variables, such as the <code>GOARM</code> of <code>arm</code>, which is used to set the version of the CPU floating-point coprocessor at runtime.</p><h3 id="script-build" tabindex="-1"><a class="header-anchor" href="#script-build" aria-hidden="true">#</a> Script build</h3><p>The above manual construction is only the v2ray executable program itself. The distribution package also contains address libraries (<code>geoip.dat</code>, <code>geosite.dat</code>), configuration files and other files. Using packaging scripts can easily produce release packages suitable for multiple operating systems and multiple CPU architectures.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> https://raw.githubusercontent.com/v2fly/v2ray-core/master/release/user-package.sh
<span class="token function">chmod</span> <span class="token number">755</span> user-package.sh
./user-package.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Execute the above script directly to generate an executable file suitable for 64-bit linux operating system in the current directory. The file name is similar to <code>v2ray-custom-linux-amd64-20201008-104530.zip</code>, which is the release package.</p><p>You can also use some personalized parameters to customize the release package:</p><ul><li><code>windows</code> build a release package for the Windows version</li><li><code>darwin</code> build the release package of darwin (macOS) version</li><li><code>tgz</code> release package uses <code>tar.gz</code> format</li><li><code>386</code> Build a 32-bit executable</li><li><code>arm</code> build executable file suitable for arm architecture CPU</li><li><code>mips</code> build executable files suitable for mips architecture CPU, please refer to Golang cross-compilation document</li><li><code>nodat</code> does not include domain name/IP database <code>geoip.dat</code>, <code>geosite.dat</code> (can reduce the size of the release package)</li><li><code>noconf</code> does not include example JSON, Systemd/Systemv and other configuration files</li><li><code>nosource</code> Do not pull the V2Ray source code from the remote end (this option is suitable for the situation where the V2Ray source code is available locally. You must enter the local v2ray code root directory before running the script)</li></ul><p>The above parameters have no order requirements, only need to be passed to the script as needed. The following is an example of building a release package suitable for 32-bit Windows operating system, without address library and without sample configuration:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./user-package.sh windows <span class="token number">386</span> nodat noconf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>For the v2ray built by the script, the startup information will become the time when the user was compiled to distinguish:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>V2Ray <span class="token number">4.30</span>.0 <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token number">20201008</span>-104530
A unified platform <span class="token keyword">for</span> anti-censorship.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Users can also customize the <code>codename</code> to customize their own version:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./user-package.sh windows <span class="token number">386</span> nodat noconf <span class="token assign-left variable">codename</span><span class="token operator">=</span>custom-codename
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/v2fly/v2fly-github-io/edit/main/docs/en_US/developer/intro/compile.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 43880903+transifex-integration[bot]@users.noreply.github.com">transifex-integration[bot]</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: kslrwang@gmail.com">Kslr</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: kslrwang@gmail.com">kslr</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/en_US/developer/intro/design.html" class="" aria-label="Step 2: Understand the architecture"><!--[--><!--]--> Step 2: Understand the architecture <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.009ed29f.js" defer></script>
  </body>
</html>
